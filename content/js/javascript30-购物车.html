<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>shoppingchart</title>
		<style>
		*{
			margin: 0;
			padding: 0;
		}	
		.container{
			width: 1200px;
			/* height: 100px; */
			/* border: 1px solid grey; */
			margin: 0 auto;
			box-sizing: border-box;
		}	
		ul{
			width: 100%;
			list-style: none;
			display: flex;
			justify-content: space-between;
			margin-top: 10px;
			
		}
		li{
			width: 200px;
			text-decoration: none;
			/* border: 1px solid black; */
			text-align: center;
			
			
		}
		p{
			text-align: right;
			margin-top: 20px;
		}
		input{
			width: 100px;
		}
		</style>
	</head>
	<body>
		
		<div class="container">
			<ul>
				<li>编号</li>
				<li>标题</li>
				<li>数量</li>
				<li>单格</li>
				<li>总价</li>
				<li>操作</li>
			</ul>
			<ul>
				<li>100001</li>
				<li>300ml特仑苏优质牛奶</li>
				<li>
					<button onclick="numminus(this)">-</button>
					<input type="text" value="1">
					<button onclick="numadd(this)">+</button>
				</li>
				<li>99</li>
				<li class="pay">99</li>
				<li>
					<button onclick="del(this)">删除</button>
				</li>
			</ul>
			<ul>
				<li>100002</li>
				<li>新疆优质苹果</li>
				<li>
					<button onclick="numminus(this)">-</button>
					<input type="text" value="1">
					<button onclick="numadd(this)">+</button>
				</li>
				<li>28</li>
				<li class="pay">28</li>
				<li>
					<button onclick="del(this)">删除</button>
				</li>
			</ul>
			<ul>
				<li>100003</li>
				<li>康师傅红烧牛肉面</li>
				<li>
				<button onclick="numminus(this)">-</button>
				<input type="text" value="1">
				<button onclick="numadd(this)">+</button>
				</li>
				<li>15.9</li>
				<li class="pay">15.9</li>
				<li>
					<button onclick="del(this)">删除</button>
				</li>
			</ul>
			<p>总价：142.9</p>
		</div>
		
		<script>
			
			function numminus(elem){
				var numinput=elem.nextElementSibling;
				numinput.value--;
				/* var father=elem.parentElement;
				var brother=father.nextElementSibling; */
				/* var price=brother.innertext; */
				
				var total=elem.parentElement.nextElementSibling.nextElementSibling;
				/* console.log(price); */
				/* console.log(total); */
				total.innerText=elem.parentElement.nextElementSibling.innerText* numinput.value;
				var pay=document.querySelectorAll(".pay");
				var check=0;
				for(i=0;i<pay.length;i++){
					var x=parseFloat(pay[i].innerText);
					check+=x;
				}
				var zongji=document.querySelector("p");
				zongji.innerText=`总计：${check}`;
			}
			
			function numadd(elem){
				var numinput=elem.previousElementSibling;
				numinput.value++;
				/* var father=elem.parentElement;
				var brother=father.nextElementSibling; */
				/* var price=brother.innertext;
				console.log(price); */
				var total=elem.parentElement.nextElementSibling.nextElementSibling;
				/* console.log(total); */
				total.innerText=elem.parentElement.nextElementSibling.innerText* numinput.value;
				var pay=document.querySelectorAll(".pay");
				var check=0;
				for(i=0;i<pay.length;i++){
					var x=parseFloat(pay[i].innerText);
					check+=x;
				}
				var zongji=document.querySelector("p");
				zongji.innerText=`总计：${check}`;
			}
			
			/* function total(price,num){
				var total=price*num;
				return total;
			} */
			
			function del(elem){
				var li=elem.parentElement;
				var ul=li.parentElement;
				var div=ul.parentElement;
				div.removeChild(ul);
			}
		</script>
	</body>
</html>